<html>
    <head>
        <title>Map Testing</title>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=weather"></script>
        <script src="http://code.jquery.com/jquery-latest.min.js"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				$("#map").hide();
				$("#test").show();
			
			
				$("#autre").click(function() {
					$("#map").show();
					$("#test").hide();
				});
			
			});
			
		</script>
        <script type="text/javascript">
            var map,
                trafficLayer,
                mapTimerHandle;

            $(function() {
                initMap();
                mapTimerHandle = setInterval(refreshMap, 15000);
            });

            function refreshMap() {
                trafficLayer.setMap(null);
                trafficLayer.setMap(map);
            }

			var mapDiv;	
			
            function initMap() {
				map = new google.maps.Map(document.getElementById('map'), {
					center : {
						lat : 50.7083215,
						lng : 3.157940300000064
					},
					zoom : 8
				});
				var infoWindow = new google.maps.InfoWindow({
					map : map
				});
				
				google.maps.MapTypeControlStyle.DROPDOWN_MENU
            }
			
			function initialize() {
			  var mapOptions = {
				zoom: 10,
				center: new google.maps.LatLng(50.7083215, 3.157940300000064),
				mapTypeId: google.maps.MapTypeId.SATELLITE
			  }
			  var map = new google.maps.Map(document.getElementById('map'),
											mapOptions);
											
			  google.maps.visualRefresh = true;

			}

			
			google.maps.event.addDomListener(window, 'load', initialize);
			google.maps.visualRefresh = true;
        </script>
    </head>
    <body>
        <div id="map" style="width:80%; height:80%;"></div>
		<div id="test">
			<input id="autre" type="button" value="cliquez ici">
		</div>
    </body>
</html>
